[{"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/index.js":"1","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/reportWebVitals.js":"2","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/header.jsx":"3","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/footer.jsx":"4","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/tooltip.jsx":"5","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/popup.jsx":"6","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/App.js":"7","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/main.jsx":"8"},{"size":295,"mtime":1647348431965,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1646833136781,"results":"11","hashOfConfig":"10"},{"size":315,"mtime":1647607554101,"results":"12","hashOfConfig":"10"},{"size":461,"mtime":1647607547156,"results":"13","hashOfConfig":"10"},{"size":793,"mtime":1647607949672,"results":"14","hashOfConfig":"10"},{"size":1022,"mtime":1647607967113,"results":"15","hashOfConfig":"10"},{"size":300,"mtime":1647529153506,"results":"16","hashOfConfig":"10"},{"size":3625,"mtime":1647607662619,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},"1tkqqg",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"28"},"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/index.js",[],[],["46","47"],"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/reportWebVitals.js",[],[],"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/header.jsx",[],[],["48","49"],"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/footer.jsx",["50"],[],"import React, { Component } from 'react';\n\nclass Footer extends Component {\n  render() {\n    return (\n      <footer className=\"footer\">\n        <span className=\"footer__name\">Valeria Karimova</span>\n        <span className=\"footer__year\">2022</span>\n        <span>\n          <a\n            className=\"footer__github-link\"\n            href=\"https://github.com/ValeriaKarimova\"\n          ></a>\n        </span>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/tooltip.jsx",[],[],"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/popup.jsx",[],[],"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/App.js",[],[],"/Users/dmitrijivasenko/Desktop/RS-School/projects/currency-exchange/src/components/main.jsx",["51"],[],"import React, { Component } from 'react';\nimport '../styles/main.css';\nimport Popup from './popup';\nimport Tooltip from './tooltip';\n\nfunction Difference(props) {\n  const name =\n    props.currentValue < props.previousValue ? 'decrease' : 'increase';\n\n  return (\n    <span className={name}>\n      {(((props.currentValue - props.previousValue) / props.previousValue) * 100).toFixed(2) + '%'}\n    </span>\n  );\n}\n\nclass ListItems extends Component {\n  render() {\n    const { data } = this.props;\n    const dataArr = Object.keys(data);\n    return dataArr.map((elem) => (\n      <li className=\"list__item\" key={data[elem].CharCode}>\n        <Tooltip content={data[elem].Name}>\n          <span className=\"code\">{data[elem].CharCode}</span>\n        </Tooltip>\n        <span>{Math.round(data[elem].Value).toFixed(2)}</span>\n        <Difference\n          currentValue={data[elem].Value}\n          previousValue={data[elem].Previous}\n        />\n      </li>\n    ));\n  }\n}\n\nclass List extends Component {\n  render() {\n    const { data } = this.props;\n    return (\n      <ul className=\"list\">\n        <ListItems data={data} />\n      </ul>\n    );\n  }\n}\n\nclass Main extends Component {\n  state = {\n    data: {},\n    isVisible: false,\n    targetName: '',\n    content: [],\n  };\n\n  lastData = [];\n\n  componentDidMount() {\n    this.fetchData();\n    this.fetchPreviousData(1);\n  }\n\n  fillPopup(name) {\n    const previousCurrency = [];\n    this.lastData.forEach((item) => {\n      const dateArr = item.date.split('T');\n      const date = dateArr[0].split('-').reverse().join('.');\n      const contentInfo = {\n        date: date,\n        currency: item.currency[name].Value,\n      };\n      previousCurrency.push(contentInfo);\n    });\n    return previousCurrency;\n  }\n\n  fetchPreviousData(i) {\n    const today = Date.now();\n    let yesterday = today - i * 86400000;\n    const date = new Date(yesterday);\n    const year = date.getFullYear();\n    let month = date.getMonth() + 1;\n    month = month > 10 ? month : `0${month}`;\n    let day = date.getDate();\n    day = day > 10 ? day : `0${day}`;\n    let BASE_PATH = `https://www.cbr-xml-daily.ru/archive/${year}/${month}/${day}/daily_json.js`;\n\n    fetch(BASE_PATH)\n      .then((res) => res.json())\n      .then((result) => {\n        const info = {\n          date: result.Date,\n          currency: result.Valute,\n        };\n        this.lastData.push(info);\n        if (this.lastData.length < 10) {\n          this.fetchPreviousData(i + 1);\n        } else {\n          return;\n        }\n      })\n      .catch((error) => {\n        if (error) {\n          console.log(`No data for ${date}`);\n          this.fetchPreviousData(i + 1);\n        }\n      });\n  }\n\n  fetchData() {\n    const BASE_PATH = 'https://www.cbr-xml-daily.ru/daily_json.js';\n\n    fetch(BASE_PATH)\n      .then((res) => res.json())\n      .then((result) => this.setState({ data: result.Valute }))\n      .catch((error) => error);\n  }\n\n  handleClick(event) {\n    if (event.target.className == 'code') {\n      const name = event.target.innerText;\n      this.setState({\n        isVisible: true,\n        targetName: name,\n        content: this.fillPopup(name),\n      });\n    }\n  }\n\n  onPopupClose() {\n    this.setState({ isVisible: false });\n  }\n\n  render() {\n    const { data, isVisible, content, targetName } = this.state;\n    return (\n      <main className=\"main\" onClick={(event) => this.handleClick(event)}>\n        <Popup\n          name={targetName}\n          visibility={isVisible}\n          content={content}\n          onClose={() => this.onPopupClose()}\n        />\n        <List data={data} />\n      </main>\n    );\n  }\n}\n\nexport default Main;\n",{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"52","replacedBy":"56"},{"ruleId":"54","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":10,"column":11,"nodeType":"60","endLine":13,"endColumn":12},{"ruleId":"61","severity":1,"message":"62","line":119,"column":32,"nodeType":"63","messageId":"64","endLine":119,"endColumn":34},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],["65"],["66"],"jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]